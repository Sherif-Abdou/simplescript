extern def log(x: f64): f64
extern def putchar(x: char): i64
extern def gets(buffer: &char): &char
extern def malloc(size: i64): &char
extern def puts(str: &char): i64
extern def free(ptr: &char)

struct String {
    internal: &char,
    len: i64
}

def make_string(len: i64): String {
    s = String()
    s.len = len
    s.internal = malloc(s.len)

    return s
}

def print_string(str: &String) {
    y = *str
    i = 0
    while y.internal[i] != '\0' {
        putchar(y.internal[i])
        i = i + 1
    }
}

def main(): i64 {
    s = make_string(10)
    gets(s.internal)
    print_string(&s)
    return 0
}
